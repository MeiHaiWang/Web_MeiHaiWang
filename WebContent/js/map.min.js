$(function(){var a=React.createClass({displayName:"MapUrl",getInitialState:function(){return{t_hairSalonMaster_mapUrl:""}},changeText:function(a){this.setState({t_hairSalonMaster_mapUrl:a.target.value})},render:function(){return React.createElement("div",null,React.createElement("input",{type:"text",value:this.state.t_hairSalonMaster_mapUrl,onChange:this.changeText}))}}),b=React.createClass({displayName:"MapImagePath",getInitialState:function(){return{t_hairSalonMaster_mapImagePath:"img/notfound.jpg"}},render:function(){return React.createElement("div",null,React.createElement("img",{className:"map_image_img",src:this.state.t_hairSalonMaster_mapImagePath?this.state.t_hairSalonMaster_mapImagePath:"img/notfound.jpg"}))}}),c=React.render(React.createElement(a,null),document.getElementById("map_url")),d=React.render(React.createElement(b,null),document.getElementById("map_image_path")),e=getSessionInfo(),f=getMapInfo(e.t_hairSalonMaster_salonId);sanitaize.decode(f),$("#account-name").text(e.t_hairSalonMaster_contactUserName),c.setState(f),d.setState(f),$("#map_regist_button").on("click",function(){var a={t_hairSalonMaster_salonId:e.t_hairSalonMaster_salonId,t_hairSalonMaster_mapUrl:c.state.t_hairSalonMaster_mapUrl,t_hairSalonMaster_mapImagePath:d.state.t_hairSalonMaster_mapImagePath};sanitaize.encode(a);var b=setMapInfo(a);"true"==b.result?(alert("Regist Success"),window.location.reload()):alert("Regist Failed")}),$("#map_image").change(function(){if($(this).prop("files")[0]){var a=new FormData($("#update")[0]);console.log("async upload image."),function(a){$.ajax({type:"POST",url:API_PATH+"uploadImage",async:!0,processData:!1,data:a,dataType:"text",contentType:!1}).then(function(a){a=JSON.parse(a),"true"==a.result?d.setState({t_hairSalonMaster_mapImagePath:a.image_path}):alert("Upload Failed")})}(a)}}),$(".map_image_trash_button").on("click",function(){d.setState({t_hairSalonMaster_mapImagePath:"img/notfound.jpg"})})});