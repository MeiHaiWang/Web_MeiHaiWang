$(function(){function a(){var a=location.href;parameters=a.split("?"),params=parameters[1].split("&");var b=[];for(w=0;w<params.length;w++)neet=params[w].split("="),b.push(neet[0]),b[neet[0]]=neet[1];return b}var b=React.createClass({displayName:"ReservationStartTime",getDefaultProps:function(){return{t_reservation_start:[""]}},getInitialState:function(){return{t_reservation_start:""}},onChangeSelectValue:function(a){this.setState({t_reservation_start:a.target.value})},render:function(){return React.createElement("input",{type:"text",value:this.state.t_reservation_start,onChange:this.changeText})}}),c=React.createClass({displayName:"ReservationEndTime",getDefaultProps:function(){return{t_reservation_end:[""]}},getInitialState:function(){return{t_reservation_end:""}},onChangeSelectValue:function(a){this.setState({t_reservation_end:a.target.value})},render:function(){return React.createElement("input",{type:"text",value:this.state.t_reservation_end,onChange:this.changeText})}}),d=React.createClass({displayName:"ReservationUserTel",getInitialState:function(){return{t_user_tel:""}},changeText:function(a){this.setState({t_user_tel:a.target.value})},render:function(){return React.createElement("div",null,React.createElement("input",{type:"text",value:this.state.t_user_tel,onChange:this.changeText,placeholder:"電話番号"}))}}),e=React.createClass({displayName:"ReservationUserName",getInitialState:function(){return{t_user_name:""}},changeText:function(a){this.setState({t_user_name:a.target.value})},render:function(){return React.createElement("div",null,React.createElement("input",{type:"text",value:this.state.t_user_name,onChange:this.changeText}))}}),f=React.createClass({displayName:"ReservationUserGender",getInitialState:function(){return{t_user_gender:""}},changeText:function(a){this.setState({t_user_gender:a.target.value})},render:function(){return React.createElement("div",null,React.createElement("input",{type:"text",value:this.state.t_user_gender,onChange:this.changeText}))}}),g=React.createClass({displayName:"ReservationUserAge",getInitialState:function(){return{t_user_age:""}},changeText:function(a){this.setState({t_user_age:a.target.value})},render:function(){return React.createElement("div",null,React.createElement("input",{type:"text",value:this.state.t_user_age,onChange:this.changeText}))}}),h=React.createClass({displayName:"ReservationStylist",getDefaultProps:function(){return{stylist:[""]}},getInitialState:function(){return{t_stylist_id:""}},onChangeSelectValue:function(a){this.setState({t_stylist_id:a.target.value})},render:function(){var a=this.props.stylist.map(function(a){return React.createElement("option",{value:a.t_stylist_stylist_id},a.t_stylist_name)});return React.createElement("div",null,React.createElement("select",{value:this.state.t_stylist_id,onChange:this.onChangeSelectValue},a))}}),i=React.render(React.createElement(b,null),document.getElementById("reservation_start")),j=React.render(React.createElement(c,null),document.getElementById("reservation_end")),k=React.render(React.createElement(d,null),document.getElementById("reservation_user_tel")),l=React.render(React.createElement(e,null),document.getElementById("reservation_user_name")),m=(React.render(React.createElement(f,null),document.getElementById("reservation_user_sex")),React.render(React.createElement(g,null),document.getElementById("reservation_user_age")),React.render(React.createElement(h,null),document.getElementById("reservation_stylist"))),n=getSessionInfo(),o=a(),p=o.time,q=p.substring(0,10),r=p.substring(13,18),s=Number(r.substring(0,2))+2,t=o.stylistId;console.log("Parameters: "+q+" "+r+"-"+s+":00 ,"+t);var u=getStylistList({t_hairSalonMaster_salonId:n.t_hairSalonMaster_salonId});sanitaize.decode(u);for(var v=new Array,w=0;w<u.stylist.length;w++){var x=u.stylist[w].t_stylist_stylist_id,y=u.stylist[w].t_stylist_name;v[x]=y}$("#account-name").text(n.t_hairSalonMaster_contactUserName),$("#Date").datepicker("setDate",q),i.setState({t_reservation_start:r}),j.setState({t_reservation_end:s+":00"}),m.setProps({stylist:u.stylist}),m.setState({t_stylist_id:t}),$("#search_button").on("click",function(){console.log("search button clicked."+k.state.t_user_tel);var a=function(){var a=getUserInfo({t_user_tel:k.state.t_user_tel});return a};a.t_user_id>0&&l.setState({t_user_name:a.t_user_name})}),$("#date").datepicker({format:"yyyy/mm/dd",language:"ja",autoclose:!0,orientation:"top auto"})});