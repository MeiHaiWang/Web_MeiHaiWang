$(function(){var a=React.createClass({displayName:"UserFind",getInitialState:function(){return{t_user_term:""}},changeText:function(a){this.setState({t_user_term:a.target.value})},render:function(){return React.createElement("div",null,React.createElement("input",{type:"text",value:this.state.t_user_term,onChange:this.changeText,placeholeder:"名前 or 電話番号"}))}}),b=(React.render(React.createElement(a,null),document.getElementById("react_user_find")),new Date),c=b.getFullYear()+"-";b.getMonth()+1<10&&(c+="0"),c+=b.getMonth()+1+"-",c+=b.getDate()+" 00:00:00",console.log(c);var d=getSessionInfo(),e=getStylistList({t_hairSalonMaster_salonId:d.t_hairSalonMaster_salonId}),f={};reservations=getReservationList({t_reservation_salonId:d.t_hairSalonMaster_salonId,t_reservation_date:c}),f=reservations.reservation_list,console.log("reservationNumber : "+f.length),$("#account-name").text(d.t_hairSalonMaster_contactUserName);var g={},h={},j=0,k=0;for(i=0;i<f.length;i++)0==f[i].t_reservation_isFinished?(g[j]=f[i],j++):f[i].t_reservation_isFinished>0&&(h[k]=f[i],k++);$("#reserve_number").text(j),$("#customer_number").text(k),$("#datepicker").datepicker({onSelect:function(a,b){$("#date_val").val(a)}}),$("#date").datepicker({format:"yyyy/mm/dd",language:"ja",autoclose:!0,orientation:"top auto"}),$(function(){"use strict";for(var a=e.stylist,b=[],c=[],d=0;d<a.length;d++){b[d]=[],c[d]=0;for(var g=0;g<f.length;g++)if(a[d].t_stylist_name==f[g].t_stylist_name){c[d]++;var h=moment(f[g].t_reservation_date),i=moment(f[g].t_reservation_date).add("hours",2);console.log(h.valueOf()+","+i.valueOf()),b[d].push({from:"/Date("+h.valueOf()+")/",to:"/Date("+i.valueOf()+")/",label:f[g].t_menu_name,customClass:"ganttRed",dataObj:f[g].t_reservation_id})}0==c[d]}for(var j=[],d=0;d<a.length;d++)j.push({name:"staff"+d,id:d,desc:a[d].t_stylist_name,values:b[d]});var k=function(b){for(var c=-1,d=0;d<a.length;d++)b==a[d].t_stylist_name&&(c=a[d].t_stylist_Id);return c};$(".gantt").gantt({source:j,scale:"hours",navigate:"scroll",maxScale:"days",itemsPerPage:10,months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dow:["日","月","火","水","木","金","土"],onItemClick:function(a){console.log("reservation.html?reservationId="+a),location.href="reservation.html?reservationId="+a},onAddClick:function(a,b){if(void 0!=b){var c=moment(Number(a)),d=c.year()+"/",e=Number(c.month())+1;d+=10>e?"0"+e+"/":e+"/",d+=c.date()<10?"0"+c.date()+" ":c.date()+" ",d+=c.hours()<10?"0"+c.hours()+":":c.hours()+":",d+=c.minutes()<10?"0"+c.minutes()+":":c.minutes()+":",d+=c.seconds()<10?"0"+c.seconds():c.seconds();var f=k(j[b].desc);alert("reservation.html?time="+d+"&stylistId="+f),location.href="reservation.html?time="+d+"&stylistId="+f}},onRender:function(){window.console&&"function"==typeof console.log&&console.log("chart rendered")}})}),$("#reservation_list_button").on("click",function(){console.log("reservationlist.html?date="+c),location.href="reservationlist.html?date="+c}),$("#customer_list_button").on("click",function(){console.log("customer.html"),location.href="customer.html"})});